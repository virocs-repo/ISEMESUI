<div class="k-m-3 k-overflow-y-auto" style="height: 80vh;">
  <div class="k-d-flex k-align-items-end k-gap-3" style="padding-bottom: 20px">
      <kendo-label text="Customer OrderType">
    
          <kendo-combobox [data]="customerOrderTypes" placeholder="Select" rounded="large" [(ngModel)]="customerOrderTypeSelected"  [disabled]="!addCustomerMode">
          </kendo-combobox>
      </kendo-label>

      <kendo-label text="Customer">
         
          <kendo-combobox [data]="customer" [(ngModel)]="customerSelected" [textField]="'CustomerName'"
              [valueField]="'CustomerID'" placeholder="Select" rounded="large"  [disabled]="!addCustomerMode" (valueChange)="onCustomerChange($event)"></kendo-combobox>
      </kendo-label>

      <!-- Device Type ComboBox -->
      <kendo-label text="Device Type" hidden>
         
          <kendo-combobox [data]="deviceTypes" placeholder="Device" rounded="large" [(ngModel)]="deviceTypeSelected"  [disabled]="!addCustomerMode">
          </kendo-combobox>
      </kendo-label>
    <!--   <kendo-label text="Lot Number">
        
          <kendo-textbox placeholder="#Lot Number" rounded="large" [(ngModel)]="lotNumber"  [disabled]="!addCustomerMode">
          </kendo-textbox>
      </kendo-label> -->

      <kendo-label text="Lot Number">
          <kendo-autocomplete
            placeholder="#Lot Number"
            rounded="large"
            [(ngModel)]="lotNumber"
            [data]="lotNumbers"
            [disabled]="!addCustomerMode"
            [filterable]="true"
            (filterChange)="onFilter($event)">
          </kendo-autocomplete>
        </kendo-label>

      <kendo-button themeColor="success" rounded="large" style="width: 7rem" (click)="onSearch()"  [disabled]="!addCustomerMode" >
          Search
      </kendo-button>
  </div>

  <kendo-grid   #grid  [kendoGridBinding]="gridDataResult.data" class="k-my-3" [height]="300" 
      [selectable]="{ checkboxOnly: true, mode: 'multiple' }" (selectionChange)="onSelectionChange($event)" [sortable]="true" [resizable]="true"
      (cellClose)="cellCloseHandler($event)" (cellClick)="editHandler($event)"  [rowSelected]="isRowSelected"   class="grid-header-sm grid-header-bold" >
      <kendo-grid-checkbox-column [width]="40" ></kendo-grid-checkbox-column>

      <kendo-grid-column *ngFor="let column of columns" [field]="column.field" [title]="column.title"
          [width]="column.width">

          <!-- Default Cell Template -->
    <!--       <ng-template kendoGridCellTemplate let-dataItem>
              {{ dataItem[column.field] }}
          </ng-template> -->
          <ng-template kendoGridCellTemplate let-dataItem>
              <a class="minimal-text" [title]="dataItem?.[column.field] || ''">
                  {{ dataItem?.[column.field] || '' }}
              </a>
          </ng-template>

          <!-- Edit Template for shippedQty-->
          <ng-template *ngIf="column.field === 'shippedQty'" kendoGridEditTemplate let-dataItem="dataItem">
              <input kendoTextBox [(ngModel)]="dataItem.shippedQty" type="number" class="black-border-textbox" />
          </ng-template>
  

      </kendo-grid-column>

  </kendo-grid>

 
  <div class="k-d-flex k-gap-4 k-mb-4" style="padding-top:2%;">
      <input type="checkbox" kendoCheckBox [(ngModel)]="formData.OQA" [disabled]="!isEditMode" style=" border: 1px solid black;  border-radius: 4px; " >
      <kendo-label text="OQA"></kendo-label>
      <input type="checkbox" kendoCheckBox [(ngModel)]="formData.Bake" [disabled]="!isEditMode" style="border: 1px solid black;  border-radius: 4px;">
      <kendo-label text="Bake"></kendo-label>
      <input type="checkbox" kendoCheckBox [(ngModel)]="formData.PandL" [disabled]="!isEditMode" style="border: 1px solid black;  border-radius: 4px;">
      <kendo-label text="P&L"></kendo-label>
  </div>
  <kendo-card class="card-green card-full">
      <kendo-card-body>
          <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;"> 
                <label for="contactPerson">Contact Person:</label>
                <kendo-combobox 
                  [data]="ContactPersonList"
                  [textField]="'itemText'"
                  [valueField]="'masterListItemId'"
                  [(ngModel)]="selectedContactPerson"
                  (selectionChange)="onContactPersonChange($event)"
                  placeholder="Select" rounded="large" [disabled]="!isEditMode">
                </kendo-combobox>                
              </div>
              
              <div class="form-field" style="width: 40%;">
                <label for="shippingMethod">Shipping Method:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="shippingMethods"
                  [textField]="'itemText'"
                  [valueField]="'masterListItemId'"
                  [(ngModel)]="selectedShippingMethod"
                  (valueChange)="onShippingMethodChange()"
                  placeholder="Select" rounded="large" [disabled]="!isEditMode">
                </kendo-combobox>
              </div>
              <div class="form-field" style="width: 40%;">
                <label for="shippingMethod">Reject Location:</label>
                <kendo-combobox 
                  [data]="RejectLocationlist"
                  [textField]="'itemText'"
                  [valueField]="'masterListItemId'"
                  [(ngModel)]="selectedRejectLocation"
                  placeholder="Select" rounded="large" [disabled]="!isEditMode">
                </kendo-combobox>
              </div>
              <div class="form-field" style="width: 40%;">
                <label for="HoldShip">Hold Ship: </label>
                <input type="checkbox" id="HoldShip" class="k-checkbox"
                       name="HoldShip" [(ngModel)]="shippingDetailsData.HoldShip" [disabled]="!isEditMode"
                       kendoCheckBox />
              </div>
              
          </div>
          <br>
          <div *ngIf="selectedShippingMethod?.masterListItemId== 1447">
              <div class="k-mt-2 k-mb-0">
                <label class="k-font-weight-bold" style="color: maroon;">Drop-Off Details</label>
              </div>
              <div class="k-d-flex k-gap-8 k-flex-wrap">
                <div class="k-d-flex k-align-items-center k-gap-4">
                  <label for="email" class="k-flex-none" style="white-space: nowrap;">Email:</label>
                  <input type="text" id="email" kendoTextBox name="Email" [(ngModel)]="shippingDetailsData.Email" [disabled]="!isEditMode"/>
                </div>
                <div class="k-d-flex k-align-items-center k-gap-4">
                  <label for="shipAlertEmail" class="k-flex-none" style="white-space: nowrap;">Ship Alert Email:</label>
                  <textarea id="shipAlertEmail" kendoTextArea name="ShipAlertEmail" [(ngModel)]="shippingDetailsData.ShipAlertEmail"  style="width: 250px; height: 60px;" [disabled]="!isEditMode"></textarea> 
                </div>
              </div>
          </div>
          <div *ngIf="selectedShippingMethod?.masterListItemId === 1448" class="k-d-flex k-flex-col k-gap-4">
               <div class="k-d-flex k-align-items-center k-gap-4">
                  <div class="k-font-weight-bold" style="color: maroon;">Pickup Details</div>
                  <input type="checkbox" id="ForwarderName" class="k-checkbox"
                         name="ForwarderName" [(ngModel)]="shippingDetailsData.Forwarder" [disabled]="!isEditMode"
                         kendoCheckBox />
                  <label for="ForwarderName">Forwarder</label>
               </div>                  
                <div class="k-d-flex k-gap-6 k-w-100">
                  <div class="k-d-flex k-align-items-center k-w-1-3">
                    <label for="ContactPerson" class="k-w-1-4" style="white-space: nowrap; min-width: 120px;">Contact Person:<b class="required-label"></b></label>
                    <input type="text" id="ContactPerson" kendoTextBox [(ngModel)]="shippingDetailsData.ContactPerson" class="k-w-3-4" [disabled]="!isEditMode"/>
                  </div>
                  <div class="k-d-flex k-align-items-center k-w-1-3">
                    <label for="Phone" class="k-w-1-4" style="white-space: nowrap; min-width: 100px;">Phone: </label>
                    <input type="text" id="Phone" kendoTextBox [(ngModel)]="address.Phone" class="k-w-3-4" [disabled]="!isEditMode"/>
                  </div>
                  <div class="k-d-flex k-align-items-center k-w-1-3">
                    <label for="Email" class="k-w-1-4" style="white-space: nowrap; min-width: 50px;">Email: </label>
                    <input type="text" id="Email" kendoTextBox [(ngModel)]="shippingDetailsData.Email" class="k-w-3-4" [disabled]="!isEditMode"/>
                  </div>
                </div>
                <div class="k-d-flex k-gap-6 k-w-100">
                  <div class="k-d-flex k-align-items-center k-w-1-2">
                    <label for="shipAlertEmail" class="k-flex-none" style="white-space: nowrap; min-width: 120px;">Ship Alert Email:</label>
                    <textarea id="shipAlertEmail" kendoTextArea name="ShipAlertEmail" [(ngModel)]="shippingDetailsData.ShipAlertEmail" [disabled]="!isEditMode" style="width: 110%; height: 60px;"></textarea>
                  </div>
                  <div class="k-d-flex k-align-items-center k-w-1-3">
                    <label for="ExpectedDate" style="white-space: nowrap; min-width: 100px; margin-right: 10px;">Expected Date:</label>
                    <kendo-datepicker [disabled]="!isEditMode" 
                    [(ngModel)]="ExpectedPickUpDate"
                    [format]="format" 
                    style="min-width: 120px; height: 34px;">
                    </kendo-datepicker>                    
                    <kendo-combobox 
                    [data]="times"
                    [textField]="'text'"
                    [valueField]="'text'"
                    [(ngModel)]="shippingDetailsData.ExpectedTime"  
                    style="min-width: 60px; margin-left: 10px; height: 32px;" 
                    [valuePrimitive]="true"
                    [disabled]="!isEditMode" 
                    >
                    </kendo-combobox>
                  </div>                  
                </div>
                <div class="k-d-flex k-flex-col k-gap-4 k-w-1-1">
                  <div class="k-d-flex k-w-1-1">
                    <label for="comments" class="k-w-1-4 k-d-flex k-align-items-start" style="white-space: nowrap; min-width: 180px;">Comments:</label>
                    <kendo-textarea [disabled]="!isEditMode"[rows]="4" id="comments" [(ngModel)]="address.Comments" class="k-w-3-4" style="height: 100%;"></kendo-textarea>
                  </div>
                  <div class="k-d-flex k-w-1-1">
                      <label for="specialInstructions" class="k-w-1-4 k-d-flex k-align-items-start" style="white-space: normal; min-width: 180px; word-wrap: break-word;">
                        Special Instruction for Shipping:
                      </label>
                      <kendo-textarea [disabled]="!isEditMode"[rows]="4" id="specialInstructions" [(ngModel)]="address.SpecialInstructions" class="k-w-3-4" style="height: 100%;"></kendo-textarea>
                    </div>
                    
                  <div class="k-d-flex k-w-1-1">
                    <label for="packingComments" class="k-w-1-4 k-d-flex k-align-items-start" style="white-space: normal; min-width: 180px; word-wrap: break-word;">
                      Comments for Packing Slip:</label>
                    <kendo-textarea [disabled]="!isEditMode"[rows]="4" id="packingComments" [(ngModel)]="address.PackingComments" class="k-w-3-4" style="height: 100%;"></kendo-textarea>
                  </div>
                  <div class="k-d-flex k-w-1-1">
                    <label for="invoiceComments" class="k-w-1-4 k-d-flex k-align-items-start" style="white-space: normal; min-width: 70px; word-wrap: break-word;">
                      Comments for Commercial Invoice:</label>
                    <kendo-textarea [disabled]="!isEditMode"[rows]="4" id="invoiceComments" [(ngModel)]="address.InvoiceComments" class="k-w-3-4" style="height: 100%;"></kendo-textarea>
                  </div>
                </div>
          </div>
          <div *ngIf="selectedShippingMethod?.masterListItemId === 1534" style="margin-top: 0%;"> 
              <div>
                  <div style="font-weight: 700; color: maroon; margin-bottom: 10px;">Forwarder Details</div>
                  <div class="form-row" style="display: flex; justify-content: space-between; gap: 10px;">
                      <div class="form-field" style="width: 30%; display: flex; flex-direction: column;">
                        <label for="ShipDate" style="margin-bottom: 5px;">Ship Date:</label>
                        <div style="display: flex; gap: 10px;">
                         <kendo-datepicker 
                          [disabled]="!isEditMode"
                          [(ngModel)]="ShipDate" 
                          style="width: 50%; height: 34px;" 
                          [format]="format">
                         </kendo-datepicker>
                         <kendo-combobox
                          [textField]="'text'"
                          [valueField]="'text'" 
                          [disabled]="!isEditMode"
                          [(ngModel)]="shippingDetailsData.ShippingTime" 
                          [data]="times" 
                          style="width: 50%;" 
                          [valuePrimitive]="true">
                         </kendo-combobox>
                        </div>
                      </div>
                    <div class="form-field" style="width: 30%;">
                      <label for="COO">COO:<b class="required-label"></b></label>
                      <kendo-combobox 
                        [data]="COOList"
                        [textField]="'itemText'"
                        [valueField]="'masterListItemId'"
                        [(ngModel)]="selectedCOO"
                        placeholder="Select" rounded="large"[disabled]="!isEditMode">
                      </kendo-combobox>
                    </div>
                    <div class="form-field" style="width: 30%;">
                      <label for="CIFrom">CI From:<b class="required-label"></b></label>
                      <kendo-combobox 
                        [data]="CIFromList"
                        [textField]="'itemText'"
                        [valueField]="'masterListItemId'"
                        [(ngModel)]="selectedCIFrom"
                        placeholder="Select" rounded="large"[disabled]="!isEditMode">
                      </kendo-combobox>                    
                    </div>
                  </div>
                  <div class="form-row" style="display: flex; justify-content: space-between; gap: 10px;">
                    <div class="form-field" style="width: 30%;">
                      <label for="UnitValue">Unit Price/Avg Unit Price:<b class="required-label"></b></label>
                      <input type="number" id="UnitValue" kendoTextBox name="UnitValue" [(ngModel)]="UnitValue" [disabled]="!isEditMode"/>
                    </div>
                    <div class="form-field" style="width: 30%;">
                      <label for="TotalValue">Total Customs Value:</label>
                      <input type="number" id="TotalValue" kendoTextBox name="TotalValue" [(ngModel)]="TotalValue" [disabled]="!isEditMode" readonly/>
                    </div>
                    <div class="form-field" style="width: 30%;">
                      <label for="Quantity">Quantity:</label>
                      <input type="number" id="Quantity" kendoTextBox name="Quantity" [(ngModel)]="Quantity"[disabled]="!isEditMode" readonly/>
                    </div>
                  </div>
                  <div class="form-row" style="display: flex; justify-content: space-between; gap: 10px;">
                    <div class="form-field" style="width: 30%;">
                      <label for="ECCN">ECCN:</label>
                      <input type="text" id="ECCN" kendoTextBox name="ECCN" [(ngModel)]="shippingDetailsData.ECCN" [disabled]="!isEditMode" maxlength="5"/>
                    </div>
                    <div class="form-field" style="width: 30%;">
                      <label for="ScheduleB">Schedule B:</label>
                      <input type="text" id="ScheduleB" kendoTextBox name="ScheduleB" [(ngModel)]="ScheduleB"[disabled]="!isEditMode" maxlength="10" (input)="validateNumericInput($event)"/>
                    </div>
                    <div class="form-field" style="width: 30%;">
                      <label for="LicenseType">License Exception Symbol:</label>
                      <kendo-combobox 
                        [data]="LicenseList"
                        [textField]="'itemText'"
                        [valueField]="'masterListItemId'"
                        [(ngModel)]="selectedLicense" [disabled]="!isEditMode"
                        placeholder="Select" rounded="large">
                      </kendo-combobox>  
                    </div>
                  </div>
                  <div class="form-row" style="display: flex; justify-content: space-between; gap: 10px;">
                    <div class="form-field" style="width: 45%;">
                      <label for="CommodityDescription">Commodity Description:</label>
                      <kendo-textarea [disabled]="!isEditMode"[rows]="3" id="CommodityDescription" name="CommodityDescription" [(ngModel)]="shippingDetailsData.CommodityDescription" style="width: 110%; height: 60px;" [maxlength]="450"></kendo-textarea>
                    </div>
                    <div class="form-field" style="width: 45%;">
                      <label for="ShipAlertEmail">Ship Alert Email:</label>
                      <kendo-textarea [disabled]="!isEditMode"[rows]="3" id="ShipAlertEmail" name="ShipAlertEmail" [(ngModel)]="shippingDetailsData.ShipAlertEmail"style="width: 100%; height: 60px;"></kendo-textarea>
                    </div>
                  </div>
                  <div class="form-row" style="display: flex; justify-content: space-between; gap: 10px;">
                    <div class="form-field" style="width: 30%;">
                      <label for="UltimateConsignee">Ultimate Consignee:</label>
                      <input [disabled]="!isEditMode" type="text" id="UltimateConsignee" kendoTextBox name="UltimateConsignee" [(ngModel)]="shippingDetailsData.UltimateConsignee" maxlength="25"/>
                    </div>
                  </div>
                </div>                  
          </div>
          <div *ngIf="selectedShippingMethod?.masterListItemId === 1446" style="margin-top: 0%;"> 
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="destination">Destination:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="destinationList" 
                  [textField]="'itemText'" 
                  [valueField]="'masterListItemId'" 
                  [(ngModel)]="selectedDestination" [disabled]="!isEditMode"
                  placeholder="Select" 
                  (ngModelChange)="onDestinationChange($event)"
                  rounded="large">
                </kendo-combobox>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="courierName">Courier Name:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="courierList" 
                  [textField]="'itemText'" 
                  [valueField]="'masterListItemId'" 
                  [(ngModel)]="selectedCourier" [disabled]="!isEditMode"
                  (ngModelChange)="onCourierChange($event)"
                  placeholder="Select" 
                  rounded="large">
                </kendo-combobox>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="ciForm">CI From:<b class="required-label" *ngIf="selectedDestination?.masterListItemId === 2"></b></label>
                <kendo-combobox 
                  [data]="CourierCIFromList"
                  [textField]="'itemText'"
                  [valueField]="'masterListItemId'"
                  [(ngModel)]="selectedCIFrom" [disabled]="!isEditMode"
                  placeholder="Select" 
                  rounded="large">
                </kendo-combobox>
              </div>
            </div>
          </div>
          <div *ngIf="selectedCourier?.itemText === 'Fedex' && selectedDestination?.itemText === 'Domestic'" style="margin-top: 0%;"> 
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="serviceType">Service Type:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="serviceTypeList" 
                  [textField]="'itemText'" 
                  [valueField]="'masterListItemId'" 
                  [(ngModel)]="selectedServiceType" 
                  placeholder="Select"
                  [disabled]="!isEditMode" 
                  rounded="large">
                </kendo-combobox>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="PackageType">Package Type:</label>
                <input [disabled]="!isEditMode"type="text" id="PackageType" kendoTextBox name="PackageType" [(ngModel)]="Courier.PackageType" maxlength="50"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="billTransportTo">Bill Transportation To:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="billTransportList" 
                  [textField]="'itemText'" 
                  [valueField]="'masterListItemId'" 
                  [(ngModel)]="selectedBillTransport" 
                  placeholder="Select" 
                  [disabled]="!isEditMode"
                  rounded="large">
                </kendo-combobox>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="TrasportationAcct">Trasportation Acct#:<b class="required-label"></b></label>
                <input [disabled]="!isEditMode"type="text" id="TrasportationAcct" kendoTextBox name="TrasportationAcct" [(ngModel)]="Courier.BillTransportationAcct" (input)="validateNumericInput($event)" maxlength="9"/>
              </div>
              <div class="form-field" style="width: 40%;">
                <label for="CustomerReference">Customer Reference:</label>
                <input [disabled]="!isEditMode"type="text" id="CustomerReference" kendoTextBox name="CustomerReference" [(ngModel)]="Courier.CustomerReference" maxlength="35"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="NumberOfPackages">Number Of Packages:</label>
                <input [disabled]="!isEditMode"type="text" id="NumberOfPackages" kendoTextBox name="NumberOfPackages" [(ngModel)]="Courier.NumberOfPackages" maxlength="9"/>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="Weight">Weight:</label>
                <input [disabled]="!isEditMode"type="number" id="Weight" kendoTextBox name="Weight" [(ngModel)]="Courier.Weight" (input)="validateWeightInput($event)"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="PackageDimension">Package Dimensions:</label>
                <input [disabled]="!isEditMode" type="text" id="PackageDimension" kendoTextBox name="PackageDimension" [(ngModel)]="Courier.PackageDimension" maxlength="9"/>
              </div>
              <div class="form-field" style="width: 40%; display: flex; flex-direction: column;">
                <label for="Residential" style="margin-bottom: 5px;">Residential:</label>
                <input type="checkbox" id="Residential" class="k-checkbox"
                       name="Residential" [(ngModel)]="Courier.Residential"
                       [disabled]="!isEditMode" kendoCheckBox
                       style="transform: scale(1.5);" />
              </div>              
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="ShipAlertEmail">Ship Alert Email::</label>
                <textarea [disabled]="!isEditMode"id="ShipAlertEmail" kendoTextArea name="ShipAlertEmail" [(ngModel)]="shippingDetailsData.ShipAlertEmail"></textarea>
              </div>
            </div>
          </div>
          <div *ngIf="selectedCourier?.itemText === 'UPS' && selectedDestination?.itemText === 'Domestic'" style="margin-top: 0%;"> 
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="billTransportTo">Bill Transportation To:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="billTransportList" 
                  [textField]="'itemText'" 
                  [valueField]="'masterListItemId'" 
                  [(ngModel)]="selectedBillTransport" 
                  placeholder="Select"
                  [disabled]="!isEditMode" 
                  rounded="large">
                </kendo-combobox>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="UPSAccountNumber">UPS Account Number:<b class="required-label"></b></label>
                <input [disabled]="!isEditMode"type="text" id="UPSAccountNumber" kendoTextBox name="UPSAccountNumber" [(ngModel)]="Courier.UPSAccountNumber" maxlength="5"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="UPSService">UPS Service:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="serviceTypeList" 
                  [textField]="'itemText'" 
                  [valueField]="'masterListItemId'" 
                  [(ngModel)]="selectedServiceType" 
                  placeholder="Select" 
                  [disabled]="!isEditMode"
                  rounded="large">
                </kendo-combobox>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="Length">Length:</label>
                <input [disabled]="!isEditMode"type="text" id="Length" kendoTextBox name="Length" [(ngModel)]="Courier.Length" (input)="validateNumericInput($event)" maxlength="3"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="Width">Width:</label>
                <input [disabled]="!isEditMode" type="text" id="Width" kendoTextBox name="Width" [(ngModel)]="Courier.Width" (input)="validateNumericInput($event)" maxlength="3"/>
              </div>
              <div class="form-field" style="width: 40%;">
                <label for="Height">Height:</label>
                <input [disabled]="!isEditMode" type="text" id="Height" kendoTextBox name="Height" [(ngModel)]="Courier.Height" maxlength="3" (input)="validateNumericInput($event)"/>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="Weight">Weight:</label>
                <input [disabled]="!isEditMode" type="text" id="Weight" kendoTextBox name="Weight" [(ngModel)]="Courier.Weight" (input)="validateWeightInput($event)" />
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="Taxid">Tax Id#:</label>
                <input [disabled]="!isEditMode"type="text" id="Taxid" kendoTextBox name="Taxid" [(ngModel)]="Courier.Taxid" maxlength="15"/>
              </div>
              <div class="form-field" style="width: 40%;">
                <label for="EmailAddress">E-mail Address:</label>
                <input [disabled]="!isEditMode"type="text" id="EmailAddress" kendoTextBox name="EmailAddress" [(ngModel)]="shippingDetailsData.Email"/>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="Attention">Attention:</label>
                <input [disabled]="!isEditMode"type="text" id="Attention" kendoTextBox name="Attention" [(ngModel)]="Courier.Attention" />
              </div>
              <div class="form-field" style="width: 40%;">
                <label for="PackageType">Package Type:</label>
                <input [disabled]="!isEditMode"type="text" id="PackageType" kendoTextBox name="PackageType" [(ngModel)]="Courier.PackageType" />
              </div>
              <div class="form-field" style="width: 40%; display: flex; flex-direction: column;">
                <label for="Residential" style="margin-bottom: 5px;">Residential:</label>
                <input type="checkbox" id="Residential" class="k-checkbox"
                       name="Residential" [(ngModel)]="Courier.Residential"
                       [disabled]="!isEditMode" kendoCheckBox
                       style="transform: scale(1.5);" />
              </div> 
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="ShipAlertEmail">Ship Alert Email::</label>
                <textarea [disabled]="!isEditMode"id="ShipAlertEmail" kendoTextArea name="ShipAlertEmail" [(ngModel)]="shippingDetailsData.ShipAlertEmail"></textarea>
              </div>
            </div>
          </div>
          <div *ngIf="selectedCourier?.itemText === 'Fedex' && selectedDestination?.itemText === 'International'" style="margin-top: 0%;"> 
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="serviceType">Service Type:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="serviceTypeList" 
                  [textField]="'itemText'" 
                  [valueField]="'masterListItemId'" 
                  [(ngModel)]="selectedServiceType" 
                  placeholder="Select" 
                  [disabled]="!isEditMode"
                  rounded="large">
                </kendo-combobox>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="ScheduleB">Schedule B:</label>
                  <input [disabled]="!isEditMode" type="text" id="ScheduleB" kendoTextBox name="ScheduleB" [(ngModel)]="ScheduleB" (input)="validateNumericInput($event)" maxlength="10"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="billTransportTo">Bill Transportation To:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="billTransportList" 
                  [textField]="'itemText'" 
                  [valueField]="'masterListItemId'" 
                  [(ngModel)]="selectedBillTransport" 
                  placeholder="Select"
                  [disabled]="!isEditMode" 
                  rounded="large">
                </kendo-combobox>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="TrasportationAcct">Bill Trasportation Acct#:<b class="required-label"></b></label>
                <input [disabled]="!isEditMode"type="text" id="TrasportationAcct" kendoTextBox name="TrasportationAcct" [(ngModel)]="Courier.BillTransportationAcct" (input)="validateNumericInput($event)" maxlength="10"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="CustomerReference">Customer Reference:</label>
                <input [disabled]="!isEditMode"type="text" id="CustomerReference" kendoTextBox name="CustomerReference" [(ngModel)]="Courier.CustomerReference" maxlength="39"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="InvoiceNumber">Invoice Number:</label>
                <input [disabled]="!isEditMode"type="text" id="InvoiceNumber" kendoTextBox name="InvoiceNumber" [(ngModel)]="Courier.InvoiceNumber" maxlength="30"/>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="billTransportTo">Bill Duties/taxes/fees:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="billTransportList" 
                  [textField]="'itemText'" 
                  [valueField]="'masterListItemId'" 
                  [(ngModel)]="selectedBillDutyTaxFeesTo" 
                  placeholder="Select"
                  [disabled]="!isEditMode" 
                  rounded="large">
                </kendo-combobox>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="Duties">Duties/taxes/fees Acc#:<b class="required-label"></b></label>
                <input [disabled]="!isEditMode"type="text" id="Duties" kendoTextBox name="Duties" [(ngModel)]="Courier.Duties" (input)="validateNumericInput($event)" maxlength="9"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="ECCN">ECCN</label>
                <input [disabled]="!isEditMode"type="text" id="ECCN" kendoTextBox name="ECCN" [(ngModel)]="shippingDetailsData.ECCN" readonly/>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                  <label for="COO">COO:<b class="required-label"></b></label>
                  <kendo-combobox 
                    [data]="COOList"
                    [textField]="'itemText'"
                    [valueField]="'masterListItemId'"
                    [(ngModel)]="selectedCOO"
                    [disabled]="!isEditMode"
                    placeholder="Select" rounded="large">
                  </kendo-combobox>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="Quantity">Quantity:</label>
                <input [disabled]="!isEditMode"type="number" id="Quantity" kendoTextBox name="Quantity" [(ngModel)]="Quantity" readonly/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="UnitValue">Unit Value:<b class="required-label"></b></label>
                <input [disabled]="!isEditMode"type="number" id="UnitValue" kendoTextBox name="UnitValue" [(ngModel)]="UnitValue" />
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="TotalValue">Total Value:</label>
                <input [disabled]="!isEditMode"type="number" id="TotalValue" kendoTextBox name="TotalValue" [(ngModel)]="TotalValue" readonly/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="LicenseType">License Exception Symbol:</label>
                <kendo-combobox 
                  [data]="LicenseList"
                  [textField]="'itemText'"
                  [valueField]="'masterListItemId'"
                  [(ngModel)]="selectedLicense"
                  [disabled]="!isEditMode"
                  placeholder="Select" rounded="large">
                </kendo-combobox>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="CIAdditionalInfo">CI Additional Info:</label>
                <textarea [disabled]="!isEditMode"id="CIAdditionalInfo" kendoTextArea name="CIAdditionalInfo" [(ngModel)]="shippingDetailsData.CommodityDescription" maxlength="450"></textarea>
              </div>
              <div class="form-field" style="width: 40%;">
                <label for="ShipAlertEmail">Ship Alert Email::</label>
                <textarea [disabled]="!isEditMode"id="ShipAlertEmail" kendoTextArea name="ShipAlertEmail" [(ngModel)]="shippingDetailsData.ShipAlertEmail"></textarea>
              </div>
            </div>
          </div>
          <div *ngIf="selectedCourier?.itemText === 'UPS' && selectedDestination?.itemText === 'International'" style="margin-top: 0%;"> 
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="billTransportTo">Bill Transportation To:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="billTransportList" 
                  [textField]="'itemText'" 
                  [valueField]="'masterListItemId'" 
                  [(ngModel)]="selectedBillTransport" 
                  placeholder="Select"
                  [disabled]="!isEditMode" 
                  rounded="large">
                </kendo-combobox>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="billTransportTo">Bill Duty and Tax To:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="billTransportList" 
                  [textField]="'itemText'" 
                  [valueField]="'masterListItemId'" 
                  [(ngModel)]="selectedBillDutyTaxFeesTo" 
                  placeholder="Select"
                  [disabled]="!isEditMode" 
                  rounded="large">
                </kendo-combobox>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="UPSService">UPS Service:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="serviceTypeList" 
                  [textField]="'itemText'" 
                  [valueField]="'masterListItemId'" 
                  [(ngModel)]="selectedServiceType" 
                  placeholder="Select" 
                  [disabled]="!isEditMode"
                  rounded="large">
                </kendo-combobox>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="UPSAccountNumber">UPS Account Number:<b class="required-label"></b></label>
                <input [disabled]="!isEditMode"type="text" id="UPSAccountNumber" kendoTextBox name="UPSAccountNumber" [(ngModel)]="Courier.UPSAccountNumber" maxlength="6"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="COO">Country of Origin:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="COOList"
                  [textField]="'itemText'"
                  [valueField]="'masterListItemId'"
                  [(ngModel)]="selectedCOO"
                  [disabled]="!isEditMode"
                  placeholder="Select" rounded="large">
                </kendo-combobox>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="LicenseType">License Type:</label>
                <kendo-combobox 
                  [data]="LicenseList"
                  [textField]="'itemText'"
                  [valueField]="'masterListItemId'"
                  [(ngModel)]="selectedLicense"
                  [disabled]="!isEditMode"
                  placeholder="Select" rounded="large">
                </kendo-combobox>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="Units">Units:<b class="required-label"></b></label>
                <input [disabled]="!isEditMode"type="number" id="Units" kendoTextBox name="Units" [(ngModel)]="Quantity" (input)="calculateTotalValue()"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="UnitValue">Unit Value:<b class="required-label"></b></label>
                <input [disabled]="!isEditMode"type="number" id="UnitValue" kendoTextBox name="UnitValue" [(ngModel)]="UnitValue" (input)="calculateTotalValue()"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="ECCN">ECCN</label>
                <input [disabled]="!isEditMode"type="text" id="ECCN" kendoTextBox name="ECCN" [(ngModel)]="shippingDetailsData.ECCN" readonly/>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="ScheduleB">Schedule B Number</label>
                <input [disabled]="!isEditMode"type="text" id="ScheduleB" kendoTextBox name="ScheduleB" [(ngModel)]="ScheduleB" (input)="validateNumericInput($event)" maxlength="10"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="ScheduleB1">Schedule B Unit 1:</label>
                <input [disabled]="!isEditMode"type="text" id="ScheduleB1" kendoTextBox name="ScheduleB1" [(ngModel)]="Courier.ScheduleBUnits1" maxlength="12"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="Atention">Atention:</label>
                <input [disabled]="!isEditMode"type="text" id="Atention" kendoTextBox name="Atention" [(ngModel)]="Courier.Attention" maxlength="35"/>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="EmailAddress">E-mail Address:</label>
                <input [disabled]="!isEditMode"type="text" id="EmailAddress" kendoTextBox name="EmailAddress" [(ngModel)]="shippingDetailsData.Email" />
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="Taxid">Tax Id#:</label>
                <input [disabled]="!isEditMode"type="text" id="Taxid" kendoTextBox name="Taxid" [(ngModel)]="Courier.Taxid" maxlength="15"/>
              </div>
              <div class="form-field" style="width: 40%; display: flex; flex-direction: column;">
                <label for="Residential" style="margin-bottom: 5px;">Residential:</label>
                <input type="checkbox" id="Residential" class="k-checkbox"
                       name="Residential" [(ngModel)]="Courier.Residential"
                       [disabled]="!isEditMode" kendoCheckBox
                       style="transform: scale(1.5);" />
              </div> 
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="Weight">Weight:</label>
                <input [disabled]="!isEditMode"type="number" id="Weight" kendoTextBox name="Weight" [(ngModel)]="Courier.Weight" (input)="validateWeightInput($event)"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="Acct">Acct#:<b class="required-label"></b></label>
                <input [disabled]="!isEditMode"type="text" id="Acct" kendoTextBox name="Acct" [(ngModel)]="Courier.Height" maxlength="6"/>
              </div>
              <div class="form-field" style="width: 40%;">
                <label for="PackageType">Package Type:</label>
                <input [disabled]="!isEditMode" type="text" id="PackageType" kendoTextBox name="PackageType" [(ngModel)]="Courier.PackageType" maxlength="50"/>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="InvoiceNumber">Invoice No:</label>
                <input [disabled]="!isEditMode"type="text" id="InvoiceNumber" kendoTextBox name="InvoiceNumber" [(ngModel)]="Courier.InvoiceNumber" maxlength="35"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="PurchaseNumber">Purchase No:</label>
                <input [disabled]="!isEditMode"type="text" id="PurchaseNumber" kendoTextBox name="PurchaseNumber" [(ngModel)]="Courier.PurchaseNumber" maxlength="35"/>
              </div>
              <div class="form-field" style="width: 40%;">
                <label for="Length">Length:</label>
                <input [disabled]="!isEditMode"type="text" id="Length" kendoTextBox name="Length" [(ngModel)]="Courier.Length" (input)="validateNumericInput($event)" maxlength="3"/>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="Width">Width:</label>
                <input [disabled]="!isEditMode"type="text" id="Width" kendoTextBox name="Width" [(ngModel)]="Courier.Width" (input)="validateNumericInput($event)" maxlength="3"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="Height">Height:</label>
                <input [disabled]="!isEditMode"type="text" id="Height" kendoTextBox name="Height" [(ngModel)]="shippingDetailsData.Height" (input)="validateNumericInput($event)" maxlength="3"/>
              </div>
              <div class="form-field" style="width: 40%;">
                <label for="TotalValue">Total Value:</label>
                <input [disabled]="!isEditMode"type="number" id="TotalValue" kendoTextBox name="TotalValue" [(ngModel)]="TotalValue" readonly/>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label >Description of Good:</label>
                <textarea  [disabled]="!isEditMode" kendoTextArea  [(ngModel)]="shippingDetailsData.CommodityDescription"></textarea>
              </div>
              <div class="form-field" style="width: 40%;">
                <label for="ShipAlertEmail">Ship Alert Email::</label>
                <textarea [disabled]="!isEditMode" id="ShipAlertEmail" kendoTextArea name="ShipAlertEmail" [(ngModel)]="shippingDetailsData.ShipAlertEmail"></textarea>
              </div>
            </div>
          </div>
          <div *ngIf="selectedCourier?.itemText === 'DHL' && selectedDestination?.itemText === 'International'" style="margin-top: 0%;"> 
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="serviceType">Product:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="serviceTypeList" 
                  [textField]="'itemText'" 
                  [valueField]="'masterListItemId'" 
                  [(ngModel)]="selectedServiceType" 
                  placeholder="Select"
                  [disabled]="!isEditMode" 
                  rounded="large">
                </kendo-combobox>
              </div>
              <div class="form-field" style="width: 40%;">
                <label for="billTransportTo">Bill To:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="billTransportList" 
                  [textField]="'itemText'" 
                  [valueField]="'masterListItemId'" 
                  [(ngModel)]="selectedBillTransport" 
                  placeholder="Select"
                  [disabled]="!isEditMode" 
                  rounded="large">
                </kendo-combobox>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="TrasportationAcct">Bill To Account:<b class="required-label"></b></label>
                <input [disabled]="!isEditMode" type="text" id="TrasportationAcct" kendoTextBox name="TrasportationAcct" [(ngModel)]="Courier.BillTransportationAcct" (input)="validateNumericInput($event)" maxlength="20"/>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="billTransportTo">Bill Duties/taxes/fees:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="billTransportList" 
                  [textField]="'itemText'" 
                  [valueField]="'masterListItemId'" 
                  [(ngModel)]="selectedBillDutyTaxFeesTo" 
                  placeholder="Select"
                  [disabled]="!isEditMode" 
                  rounded="large">
                </kendo-combobox>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="Duties">Duties/taxes/fees Acc#:<b class="required-label"></b></label>
                <input [disabled]="!isEditMode" type="text" id="Duties" kendoTextBox name="Duties" [(ngModel)]="Courier.Duties" (input)="validateNumericInput($event)" maxlength="20"/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="ScheduleB">Schedule B:</label>
                  <input [disabled]="!isEditMode" type="text" id="ScheduleB" kendoTextBox name="ScheduleB" [(ngModel)]="ScheduleB" (input)="validateNumericInput($event)" maxlength="10"/>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="COO">Country of Origin:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="COOList"
                  [textField]="'itemText'"
                  [valueField]="'masterListItemId'"
                  [(ngModel)]="selectedCOO"
                  [disabled]="!isEditMode"
                  placeholder="Select" rounded="large">
                </kendo-combobox>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="COO">Commodity Origin:<b class="required-label"></b></label>
                <kendo-combobox 
                  [data]="COOList"
                  [textField]="'itemText'"
                  [valueField]="'masterListItemId'"
                  [(ngModel)]="selectedCommodityOrigin"
                  [disabled]="!isEditMode"
                  placeholder="Select" rounded="large">
                </kendo-combobox>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="Qty">Qty:</label>
                <input [disabled]="!isEditMode"type="text" id="Qty" kendoTextBox name="Qty" [(ngModel)]="Courier.Qty" maxlength="5" (input)="validateNumericInput($event)"/>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="UnitValue">Unit Value:<b class="required-label"></b></label>
                <input [disabled]="!isEditMode"type="number" id="UnitValue" kendoTextBox name="UnitValue" [(ngModel)]="UnitValue" />
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="Quantity">Quantity:</label>
                <input [disabled]="!isEditMode"type="number" id="Quantity" kendoTextBox name="Quantity" [(ngModel)]="Quantity" readonly/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="LicenseType">License Type:</label>
                <kendo-combobox 
                  [data]="LicenseList"
                  [textField]="'itemText'"
                  [valueField]="'masterListItemId'"
                  [(ngModel)]="selectedLicense"
                  [disabled]="!isEditMode"
                  placeholder="Select" rounded="large">
                </kendo-combobox>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="ECCN">ECCN:</label>
                <input [disabled]="!isEditMode"type="text" id="ECCN" kendoTextBox name="ECCN" [(ngModel)]="shippingDetailsData.ECCN" readonly/>
              </div>
          
              <div class="form-field" style="width: 40%;">
                <label for="TotalValue">Total Value:</label>
                <input [disabled]="!isEditMode"type="number" id="TotalValue" kendoTextBox name="TotalValue" [(ngModel)]="TotalValue" (input)="calculateTotalValue()" readonly/>
              </div>
              <div class="form-field" style="width: 40%;">
                <label for="ShipmentReference">Shipment Reference:</label>
                <input [disabled]="!isEditMode"type="text" id="ShipmentReference" kendoTextBox name="ShipmentReference" [(ngModel)]="shippingDetailsData.Height" maxlength="31"/>
              </div>
            </div>
            <div style="display: flex; gap: 20px; align-items: flex-start;">
              <div class="form-field" style="width: 40%;">
                <label for="ShipAlertEmail">Ship Alert Email::</label>
                <textarea [disabled]="!isEditMode" id="ShipAlertEmail" kendoTextArea name="ShipAlertEmail" [(ngModel)]="shippingDetailsData.ShipAlertEmail"></textarea>
              </div>
              <div class="form-field" style="width: 40%;">
                <label for="CustomeTT">Custom Term of Trade:</label>
                <kendo-combobox 
                  [data]="CustomeTTList"
                  [textField]="'itemText'"
                  [valueField]="'masterListItemId'"
                  [(ngModel)]="selectedCustomeTT"
                  [disabled]="!isEditMode"
                  placeholder="Select" rounded="large">
                </kendo-combobox>
              </div>
            </div>
          </div>
          <div style="margin-top:1%;" *ngIf="selectedShippingMethod?.masterListItemId === 1447 || selectedShippingMethod?.masterListItemId === 1446 || selectedShippingMethod?.masterListItemId === 1534">
              <kendo-card class="card-blue card-full">
                  <kendo-card-body>
                    <div class="form-container">
                          <div class="k-font-weight-bold" style="color: maroon;">
                            <label style="margin-right: 20px;">Address Details</label>
                            <button [disabled]="!isEditMode" kendoButton (click)="openDialog()" [svgIcon]="ICON.mapMarkerIcon" [ngStyle]="{ 'color': 'blue' }" style="background-color: #ADD8E6; color: white; width: 50px; height: 30px;"></button>
                            <input type="checkbox" id="shipadress" class="k-checkbox" style="margin-left: 20px;"
                              name="shipadress" [(ngModel)]="sameAsShipTo" [disabled]="!isEditMode" (change)="copyShipTo()"
                              kendoCheckBox />
                              <label for="shipadress">Same as Ship To Address</label>
                          </div>
                          <kendo-dialog *ngIf="dialogVisible" (close)="closeDialog()">
                            <div class="k-font-weight-bold" style="color: maroon;">
                                <span>Address Details</span>
                            </div>
                            <div class="k-dialog-content">
                              <div style="overflow-y: auto; width: 100%; max-width: 100%; ">
                                <kendo-grid #grid
                                  [kendoGridBinding]="addressDataResult.data"
                                  [height]="400"
                                  [selectable]="{ mode: 'single' }" 
                                  (selectionChange)="onSelectionChanges($event)"
                                  [resizable]="true"
                                  class="grid-header-sm grid-header-bold" style="min-width: 800px; width: 100%; white-space: nowrap;">
                                  <kendo-grid-column [width]="40">
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                      <input 
                                        type="radio" 
                                        name="radio-group" 
                                        [value]="dataItem.addressId"
                                        [checked]="isBillTo ? (billToAddress.billtoaddressId === dataItem.addressId) : (address.addressId === dataItem.addressId)"  
                                        (change)="onRadioChange(dataItem)" 
                                        [disabled]="!dataItem.canSelect" />
                                    </ng-template>
                                  </kendo-grid-column>

                                  <kendo-grid-column field="companyName" title="Company Name">
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                      <a class="minimal-text" [title]="dataItem.companyName">{{dataItem.companyName}}</a>
                                    </ng-template>
                                  </kendo-grid-column>

                                  <kendo-grid-column field="addressType" title="AddressType" >
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                      <a class="minimal-text" [title]="dataItem.addressType">{{dataItem.addressType}}</a>
                                    </ng-template>
                                  </kendo-grid-column>

                                  <kendo-grid-column field="address1" title="Address 1" >
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                      <a class="minimal-text" [title]="dataItem.address1">{{dataItem.address1}}</a>
                                    </ng-template>
                                  </kendo-grid-column>

                                  <kendo-grid-column field="address2" title="Address 2">
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                      <a class="minimal-text" [title]="dataItem.address2">{{dataItem.address2}}</a>
                                    </ng-template>
                                  </kendo-grid-column>

                                  <kendo-grid-column field="address3" title="Address 3" >
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                      <a class="minimal-text" [title]="dataItem.address3">{{dataItem.address3}}</a>
                                    </ng-template>
                                  </kendo-grid-column>

                                  <kendo-grid-column field="city" title="City" >
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                      <a class="minimal-text" [title]="dataItem.city">{{dataItem.city}}</a>
                                    </ng-template>
                                  </kendo-grid-column>

                                  <kendo-grid-column field="state" title="State" >
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                      <a class="minimal-text" [title]="dataItem.state">{{dataItem.state}}</a>
                                    </ng-template>
                                  </kendo-grid-column>

                                  <kendo-grid-column field="zip" title="Post Code" >
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                      <a class="minimal-text" [title]="dataItem.zip">{{dataItem.zip}}</a>
                                    </ng-template>
                                  </kendo-grid-column>

                                  <kendo-grid-column field="country" title="Country" >
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                      <a class="minimal-text" [title]="dataItem.country">{{dataItem.country}}</a>
                                    </ng-template>
                                  </kendo-grid-column>

                                  <kendo-grid-column field="phone" title="Phone" >
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                      <a class="minimal-text" [title]="dataItem.phone">{{dataItem.phone}}</a>
                                    </ng-template>
                                  </kendo-grid-column>

                                  <kendo-grid-column field="email" title="Email">
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                      <a class="minimal-text" [title]="dataItem.email">{{dataItem.email}}</a>
                                    </ng-template>
                                  </kendo-grid-column>

                                  <kendo-grid-column field="extension" title="Extension" >
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                      <a class="minimal-text" [title]="dataItem.extension">{{dataItem.extension}}</a>
                                    </ng-template>
                                  </kendo-grid-column>

                                  <kendo-grid-column field="alert" title="Alert" >
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                      <a class="minimal-text" [title]="dataItem.alert">{{dataItem.alert}}</a>
                                    </ng-template>
                                  </kendo-grid-column>

                                  <kendo-grid-column field="contactPerson" title="Contact Name" >
                                    <ng-template kendoGridCellTemplate let-dataItem>
                                      <a class="minimal-text" [title]="dataItem.contactPerson">{{dataItem.contactPerson}}</a>
                                    </ng-template>
                                  </kendo-grid-column>
                                </kendo-grid>
                              </div>
                                  <div style="display: flex; justify-content: flex-end; margin-top: 20px;">
                                    <button kendoButton type="button" rounded="large" themeColor="error" style="width:6rem;margin-right: 10px;"
                                        (click)="onCancel()">Cancel</button>
                                    <button kendoButton type="button" rounded="large" themeColor="success" style="width:6rem"
                                        (click)="onOk()">OK</button>
                                </div>
                            </div>
                        </kendo-dialog>
                          <br>
                      <div class="form-row">
                        <div class="form-field" style="width: 100%;">
                          <button kendoButton (click)="toggleShipTo()" style="font-weight: bold;">Ship To</button>
                          <button kendoButton (click)="toggleBillTo()" style="font-weight: bold; margin-left: 15px;">Bill To</button>
                        </div>
                      </div>
                      <br>
                      <div *ngIf="!isBillTo">
                        <div class="form-row" >
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="country">Country:<b class="required-label"></b></label>
                            <input [disabled]="!isEditMode" type="text" id="country" kendoTextBox name="Country" [(ngModel)]="address.Country" required readonly />
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="receiversName">Contact Name:<b class="required-label"></b></label>
                            <input [disabled]="!isEditMode" type="text" id="contactPerson" kendoTextBox name="contactPerson" [(ngModel)]="shippingDetailsData.ContactPerson"  />
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="companyName">Company Name:<b class="required-label"></b></label>
                            <input [disabled]="!isEditMode" type="text" id="companyName" kendoTextBox name="CompanyName" [(ngModel)]="address.CompanyName" required readonly/>
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%;">
                            <label for="address1">Address 1:<b class="required-label"></b></label>
                            <input [disabled]="!isEditMode"type="text" id="address1" kendoTextBox name="Address1" [(ngModel)]="address.Address1" required readonly/>
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="address2">Address 2:</label>
                            <input [disabled]="!isEditMode"type="text" id="address2" kendoTextBox name="Address2" [(ngModel)]="address.Address2" readonly/>
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="address3">Address 3:</label>
                            <input [disabled]="!isEditMode"type="text" id="address3" kendoTextBox name="Address3" [(ngModel)]="address.Address3" readonly/>
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="telephone">Telephone:<b class="required-label"></b></label>
                            <input [disabled]="!isEditMode"type="text" id="telephone" kendoTextBox name="Telephone" [(ngModel)]="address.Phone" required pattern="[0-9]{10}" />
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%;">
                            <label for="state">State/Province:<b class="required-label"></b></label>
                            <input [disabled]="!isEditMode"type="text" id="state" kendoTextBox name="State" [(ngModel)]="address.State" required readonly/>
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="city">City:<b class="required-label"></b></label>
                            <input [disabled]="!isEditMode"type="text" id="city" kendoTextBox name="City" [(ngModel)]="address.City" required />
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="postCode">Post Code:<b class="required-label"></b></label>
                            <input [disabled]="!isEditMode"type="text" id="postCode" kendoTextBox name="PostCode" [(ngModel)]="address.PostCode" required readonly/>
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="ext">Ext:</label>
                            <input [disabled]="!isEditMode"type="text" id="ext" kendoTextBox name="Ext" [(ngModel)]="address.Ext" readonly/>
                          </div>
                        </div>
                      </div>
                      <div *ngIf="isBillTo">
                        <div class="form-row" >
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="country">Country:</label>
                            <input [disabled]="!isEditMode" type="text" id="country" kendoTextBox name="Country" [(ngModel)]="billToAddress.Country" readonly/>
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="receiversName">Contact Name:</label>
                            <input [disabled]="!isEditMode" type="text" id="contactPerson" kendoTextBox name="contactPerson" [(ngModel)]="billToAddress.ContactPerson"  />
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="companyName">Company Name:</label>
                            <input [disabled]="!isEditMode" type="text" id="companyName" kendoTextBox name="CompanyName" [(ngModel)]="billToAddress.CompanyName" readonly/>
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%;">
                            <label for="address1">Address 1:</label>
                            <input [disabled]="!isEditMode"type="text" id="address1" kendoTextBox name="Address1" [(ngModel)]="billToAddress.Address1" readonly/>
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="address2">Address 2:</label>
                            <input [disabled]="!isEditMode"type="text" id="address2" kendoTextBox name="Address2" [(ngModel)]="billToAddress.Address2" readonly/>
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="address3">Address 3:</label>
                            <input [disabled]="!isEditMode"type="text" id="address3" kendoTextBox name="Address3" [(ngModel)]="billToAddress.Address3" readonly/>
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="telephone">Telephone:</label>
                            <input [disabled]="!isEditMode"type="text" id="telephone" kendoTextBox name="Telephone" [(ngModel)]="billToAddress.TelePhone"/>
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%;">
                            <label for="state">State/Province:</label>
                            <input [disabled]="!isEditMode"type="text" id="state" kendoTextBox name="State" [(ngModel)]="billToAddress.State" readonly/>
                          </div>
                        </div>
                        <div class="form-row">
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="city">City:</label>
                            <input [disabled]="!isEditMode"type="text" id="city" kendoTextBox name="City" [(ngModel)]="billToAddress.City"/>
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="postCode">Post Code:</label>
                            <input [disabled]="!isEditMode"type="text" id="postCode" kendoTextBox name="PostCode" [(ngModel)]="billToAddress.PostCode" readonly/>
                          </div>
                          <div class="form-field" style="display: inline-block; width: 24%; margin-right: 10px;">
                            <label for="ext">Ext:</label>
                            <input [disabled]="!isEditMode"type="text" id="ext" kendoTextBox name="Ext" [(ngModel)]="billToAddress.Ext" readonly/>
                          </div>
                        </div>
                      </div>
                    </div>
                  </kendo-card-body>
                </kendo-card>
              <br>
              <div class="k-d-flex k-flex-col k-gap-4 k-w-1-1">
                  <div class="k-d-flex k-w-1-1">
                    <label for="comments" class="k-w-1-4 k-d-flex k-align-items-start" style="white-space: nowrap; min-width: 180px;">Comments:</label>
                    <kendo-textarea [disabled]="!isEditMode"[rows]="4" id="comments" [(ngModel)]="address.Comments" class="k-w-3-4" style="height: 100%;"></kendo-textarea>
                  </div>
                  <div class="k-d-flex k-w-1-1">
                      <label for="specialInstructions" class="k-w-1-4 k-d-flex k-align-items-start" style="white-space: normal; min-width: 180px; word-wrap: break-word;">
                        Special Instruction for Shipping:
                      </label>
                      <kendo-textarea [disabled]="!isEditMode" [rows]="4" id="specialInstructions" [(ngModel)]="address.SpecialInstructions" class="k-w-3-4" style="height: 100%;"></kendo-textarea>
                    </div>
                    
                  <div class="k-d-flex k-w-1-1">
                    <label for="packingComments" class="k-w-1-4 k-d-flex k-align-items-start" style="white-space: normal; min-width: 180px; word-wrap: break-word;">
                      Comments for Packing Slip:</label>
                    <kendo-textarea [disabled]="!isEditMode"[rows]="4" id="packingComments" [(ngModel)]="address.PackingComments" class="k-w-3-4" style="height: 100%;"></kendo-textarea>
                  </div>
                  <div class="k-d-flex k-w-1-1">
                    <label for="invoiceComments" class="k-w-1-4 k-d-flex k-align-items-start" style="white-space: normal; min-width: 70px; word-wrap: break-word;">
                      Comments for Commercial Invoice:</label>
                    <kendo-textarea [disabled]="!isEditMode"[rows]="4" id="invoiceComments" [(ngModel)]="address.InvoiceComments" class="k-w-3-4" style="height: 100%;"></kendo-textarea>
                  </div>
                </div>
            </div>
      </kendo-card-body>
  </kendo-card>
  <kendo-dialog *ngIf="showPopup" (close)="onPopupClose()">
    <kendo-dialog-titlebar>
      Shipping
    </kendo-dialog-titlebar>
    <p>Please enter numeric values.</p>
    <kendo-dialog-actions>
      <button kendoButton (click)="onClose()">OK</button>
    </kendo-dialog-actions>
  </kendo-dialog>

  <kendo-dialog *ngIf="showMsg" (close)="showMsgClose()">
    <kendo-dialog-titlebar>
      Shipping
    </kendo-dialog-titlebar>
    <p>{{ popupMessage }}</p>
    <kendo-dialog-actions>
      <button kendoButton (click)="onCloseMsg()">OK</button>
    </kendo-dialog-actions>
  </kendo-dialog> 
  
  <kendo-dialog *ngIf="emailError" (close)="onemailErrorClose()">
    <kendo-dialog-titlebar>
      Traveler
    </kendo-dialog-titlebar>
    <p>{{ emailMessage }}</p>
    <kendo-dialog-actions>
      <button kendoButton (click)="onErrorClose()">OK</button>
    </kendo-dialog-actions>
  </kendo-dialog>

  <kendo-dialog *ngIf="totalValueError" (close)="onTotalValueErrorClose()">
    <kendo-dialog-titlebar>
      Traveler
    </kendo-dialog-titlebar>
    <p>{{ totalValueMessage }}</p>
    <kendo-dialog-actions>
      <button kendoButton (click)="onTotalValueErrorClose()">OK</button>
    </kendo-dialog-actions>
  </kendo-dialog>

  <kendo-dialog *ngIf="shipAlertEmailError" (close)="onShipAlertEmailErrorClose()">
    <kendo-dialog-titlebar>
      Traveler
    </kendo-dialog-titlebar>
    <p>{{ shipAlertEmailMessage }}</p>
    <kendo-dialog-actions>
      <button kendoButton (click)="onShipAlertEmailErrorClose()">OK</button>
    </kendo-dialog-actions>
  </kendo-dialog>

  <kendo-dialog *ngIf="unitValueError" (close)="onUnitValueErrorClose()">
    <kendo-dialog-titlebar>
      Shipping
    </kendo-dialog-titlebar>
    <p>{{ unitValueMessage }}</p>
    <kendo-dialog-actions>
      <button kendoButton (click)="onUnitValueErrorClose()">OK</button>
    </kendo-dialog-actions>
  </kendo-dialog>
  <div class="k-d-flex k-gap-3 k-mt-3">
      <button kendoButton type="button" rounded="large" themeColor="error" class="k-ml-auto" style="width:6rem"
          (click)="cancelRequest()">Cancel</button>
      <button kendoButton type="button" rounded="large" themeColor="success" style="width:6rem"
          (click)="submitForm()"  [disabled]="!isEditMode" >Submit</button>
  </div>
</div>